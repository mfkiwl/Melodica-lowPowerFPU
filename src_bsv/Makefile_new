### Makefile for the accelerator PositCore project
### Generated by Bluespec Workstation on Wed Apr  3 10:43:39 IST 2019

default: compile link simulate clean
# comment the flag for use of operations that are required for fused operations
#BSC_COMPILATION_FLAGS += \
#		 -D PositCore_AM
BSC_COMPILATION_FLAGS += \
#		 -D NORM_EXT 
.PHONY: compile
compile:
	@echo Compiling...
	mkdir -p builds
	bsc -u -sim -simdir builds -bdir builds -info-dir builds $(BSC_COMPILATION_FLAGS)-keep-fires -aggressive-conditions -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./common:./Fused_Op:./lib:./FtoP:./QtoP:./PtoF:./PtoQ:./Adder:./Multiplier:./Divider -g mkTb  test_v1.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkTb -sim -o builds/out -simdir builds -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:. -bdir builds $(BSC_COMPILATION_FLAGS) -keep-fires -aggressive-conditions 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	builds/out 
	@echo Simulation finished

.PHONY: clean
clean:
	rm -r builds

.PHONY: full_clean
full_clean:
